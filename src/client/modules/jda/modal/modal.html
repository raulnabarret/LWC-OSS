<template>
    <section
        role="dialog"
        tabindex="-1"
        class="slds-modal slds-fade-in-open slds-modal_small"
        aria-labelledby="modal-heading-01"
        aria-modal="true"
        aria-describedby="modal-content-id-1"
    >
        <div class="slds-modal__container">
            <header class="slds-modal__header">
                <button
                    class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                    title="Close"
                    onclick={handleCloseStepModal}
                >
                    <svg
                        class="slds-button__icon slds-button__icon_large"
                        aria-hidden="true"
                    >
                        <use
                            xlink:href="/resources/slds/icons/utility-sprite/svg/symbols.svg#close"
                        ></use>
                    </svg>
                    <span class="slds-assistive-text">Close</span>
                </button>
                <h2
                    id="modal-heading-01"
                    class="slds-modal__title slds-hyphenate"
                >
                    {step.opportunityId} - {step.companyName}
                </h2>
            </header>
            <div
                class="slds-modal__content slds-p-around_medium"
                id="modal-content-id-1"
            >
                <div
                    class="slds-grid slds-wrap slds-has-divider_bottom slds-m-bottom_small slds-p-bottom_small slds-text-align_center"
                >
                    <div class="slds-col">
                        <span class="slds-text-title_caps">Phase</span>
                        <p
                            class="slds-text-color_default"
                            style="text-transform: capitalize;"
                        >
                            {step.phase}
                        </p>
                    </div>
                    <div class="slds-col">
                        <span class="slds-text-title_caps">Weeks in Phase</span>
                        <p class="slds-text-color_default">
                            {step.weeksInPhase}
                        </p>
                    </div>
                    <div class="slds-col">
                        <span class="slds-text-title_caps">Due Date Phase</span>
                        <p class="slds-text-color_default">
                            {step.dueDatePhase}
                        </p>
                    </div>
                    <div class="slds-col">
                        <span class="slds-text-title_caps">Availability</span>
                        <p class="slds-text-color_default">
                            {step.availability}
                        </p>
                    </div>
                    <div class="slds-col">
                        <span class="slds-text-title_caps">Risk Tracker</span>
                        <template if:true={yellowRiskTrackerCollor}>
                            <div
                                style="width: 15px;
                            height: 15px;
                            border-radius: 50%;
                            border: 1px solid #ddd;
                            background: yellow;
                            margin: 0px auto;"
                            ></div>
                        </template>
                        <template if:true={greenRiskTrackerCollor}>
                            <div
                                style="width: 15px;
                            height: 15px;
                            border: 1px solid #ddd;
                            border-radius: 50%;
                            background: green;
                            margin: 0px auto;"
                            ></div>
                        </template>
                    </div>
                </div>
                <div class="slds-grid slds-wrap">
                    <div class="slds-size_4-of-12">
                        <span
                            class="slds-text-title_caps slds-text-align_center"
                            style="display: block; margin: 0 auto;"
                            >Involved Parties</span
                        >
                        <ul class="slds-has-block-links">
                            <template
                                for:each={step.involvedParties}
                                for:item="contact"
                            >
                                <li key={contact.id}>
                                    <a
                                        href="#"
                                        data-identifier={contact.id}
                                        onclick={handleSelectedContact}
                                        >{contact.name}</a
                                    >
                                </li>
                            </template>
                        </ul>
                    </div>
                    <div class="slds-size_4-of-12">
                        <span
                            class="slds-text-title_caps slds-text-align_center"
                            style="display: block; margin: 0 auto;"
                            >Phase Goals</span
                        >
                        <ol class="slds-list_ordered">
                            <template
                                for:each={step.phaseGoals}
                                for:item="goal"
                            >
                                <li key={goal}>{goal}</li>
                            </template>
                        </ol>
                    </div>
                    <div class="slds-size_4-of-12">
                        <span
                            class="slds-text-title_caps slds-text-align_center"
                            style="display: block; margin: 0 auto;"
                            >Key Deliverables</span
                        >
                        <ol class="slds-list_ordered">
                            <template
                                for:each={step.keyDeliverables}
                                for:item="deliverable"
                            >
                                <li key={deliverable}>{deliverable}</li>
                            </template>
                        </ol>
                    </div>
                </div>
            </div>
            <footer class="slds-modal__footer">
                <button
                    class="slds-button slds-button_neutral"
                    onclick={handleCloseStepModal}
                >
                    Close
                </button>
            </footer>
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div
></template>
